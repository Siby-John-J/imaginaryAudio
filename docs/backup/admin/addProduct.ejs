<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/admin/addproductStyle.css">
    <script src="/js/checkInputField.js"></script>
    <title>add category</title>
</head>
<body>
    <h1><%= type %> Product</h1>
    <% let action = '' %>
    <% if(type === 'edit') { %>
      <% variable = contents.id %>
      <% action = '/admin/modifyproduct?id=' + variable %>
    <% } else { %>
      <% action = '/admin/authproduct' %>
    <% } %>
    <form action="<%= action %>" method="post" enctype="multipart/form-data">
      <div class="addproduct-main">
        <div class="side-design">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0000ff" fill-opacity="1" d="M0,128L13.3,112C26.7,96,53,64,80,85.3C106.7,107,133,181,160,229.3C186.7,277,213,299,240,282.7C266.7,267,293,213,320,160C346.7,107,373,53,400,80C426.7,107,453,213,480,234.7C506.7,256,533,192,560,170.7C586.7,149,613,171,640,197.3C666.7,224,693,256,720,256C746.7,256,773,224,800,208C826.7,192,853,192,880,186.7C906.7,181,933,171,960,138.7C986.7,107,1013,53,1040,64C1066.7,75,1093,149,1120,202.7C1146.7,256,1173,288,1200,293.3C1226.7,299,1253,277,1280,266.7C1306.7,256,1333,256,1360,229.3C1386.7,203,1413,149,1427,122.7L1440,96L1440,320L1426.7,320C1413.3,320,1387,320,1360,320C1333.3,320,1307,320,1280,320C1253.3,320,1227,320,1200,320C1173.3,320,1147,320,1120,320C1093.3,320,1067,320,1040,320C1013.3,320,987,320,960,320C933.3,320,907,320,880,320C853.3,320,827,320,800,320C773.3,320,747,320,720,320C693.3,320,667,320,640,320C613.3,320,587,320,560,320C533.3,320,507,320,480,320C453.3,320,427,320,400,320C373.3,320,347,320,320,320C293.3,320,267,320,240,320C213.3,320,187,320,160,320C133.3,320,107,320,80,320C53.3,320,27,320,13,320L0,320Z"></path></svg>
        </div>
        <div class="middle">
              <div class="image-field">
                <div class="main-img">
                  <button class="btn">upload imgs</button>
                  <input id="img" type="file" name="image" multiple>
                </div>
              </div>
              <% if(type === 'edit') { %>
                <input type="text" name="pname" value="<%= contents.name %>" placeholder="Product name">
                <% } else { %>
                <input type="text" id="p-name" name="pname" placeholder="Product name">
            <% } %>
            <!-- <input type="text" name="pcat" placeholder="Product category"> -->
            <select name="pcat">
              <% for(let i = 0; i < data.length; i++) { %>
                <% let name = data[i].name %>
                <option value="<%= name %>"><%= name %></option>
                <% } %>
              </select>
              <% if(type === 'edit') { %>
                <input type="text" name="pprice"  value="<%= contents.price %>">
              <input type="text" name="pstock" value="<%= contents.stock %>"">
              <input class="desc" type="text" value="<%= contents.description %>" name="pdesc">
              <% } else { %>      
                <input type="text" id="p-price" name="pprice" placeholder="Product price">
                <input type="text" id="p-stock" name="pstock" placeholder="Stock">
                <input class="desc" id="p-desc" type="text" name="pdesc" placeholder="Description">
            <% } %>
            <div class="btns">
                <form action="">
                  <button onclick="check(event)">Create</button>
                    <a href="/admin/products">Cancel</a>
                  </form>
                </div>
            </div>
            <div class="left-side-design">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#0000ff" fill-opacity="1" d="M0,128L13.3,112C26.7,96,53,64,80,85.3C106.7,107,133,181,160,229.3C186.7,277,213,299,240,282.7C266.7,267,293,213,320,160C346.7,107,373,53,400,80C426.7,107,453,213,480,234.7C506.7,256,533,192,560,170.7C586.7,149,613,171,640,197.3C666.7,224,693,256,720,256C746.7,256,773,224,800,208C826.7,192,853,192,880,186.7C906.7,181,933,171,960,138.7C986.7,107,1013,53,1040,64C1066.7,75,1093,149,1120,202.7C1146.7,256,1173,288,1200,293.3C1226.7,299,1253,277,1280,266.7C1306.7,256,1333,256,1360,229.3C1386.7,203,1413,149,1427,122.7L1440,96L1440,320L1426.7,320C1413.3,320,1387,320,1360,320C1333.3,320,1307,320,1280,320C1253.3,320,1227,320,1200,320C1173.3,320,1147,320,1120,320C1093.3,320,1067,320,1040,320C1013.3,320,987,320,960,320C933.3,320,907,320,880,320C853.3,320,827,320,800,320C773.3,320,747,320,720,320C693.3,320,667,320,640,320C613.3,320,587,320,560,320C533.3,320,507,320,480,320C453.3,320,427,320,400,320C373.3,320,347,320,320,320C293.3,320,267,320,240,320C213.3,320,187,320,160,320C133.3,320,107,320,80,320C53.3,320,27,320,13,320L0,320Z"></path></svg>
            </div>
        </div>
    </form>
  </body>
  </html>